public without sharing class PromotionTask {
    @AuraEnabled
    public static Lead clearPromotionCodeFields(String promoCode) {
        // âœ… 1. ì…ë ¥ëœ Promotion Codeì™€ ì¼ì¹˜í•˜ëŠ” Lead ì°¾ê¸° (LIMIT 1 ì¶”ê°€)
        List<Lead> leads = [SELECT Id, Name, Promotion_Code__c, Promotion_Issued_Date__c FROM Lead WHERE Promotion_Code__c = :promoCode LIMIT 1];

        // âœ… 2. í•´ë‹¹ Leadê°€ ì¡´ì¬í•˜ë©´ `Promotion_Code__c` ë° `Promotion_Issued_Date__c` í•„ë“œë¥¼ `null`ë¡œ ë³€ê²½
        if (!leads.isEmpty()) {  // âœ… Listì—ì„œ isEmpty()ë¥¼ ì²´í¬
            Lead selectlead = leads[0]; // âœ… ì²« ë²ˆì§¸ Lead ì„ íƒ
            selectlead.Promotion_Code__c = null;  // ğŸ”¥ Promotion Code ì‚­ì œ
            selectlead.Promotion_Issued_Date__c = null;  // ğŸ”¥ Issued Date ì‚­ì œ

            update selectlead; // âœ… Lead í•„ë“œ ì—…ë°ì´íŠ¸
            return selectlead;
        } else {
            throw new AuraHandledException('No Lead found with this Promotion Code.');
        }
    }
}
